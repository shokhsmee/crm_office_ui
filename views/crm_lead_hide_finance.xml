<!-- crm_office_ui/views/crm_lead_hide_finance.xml -->
<odoo>
  <!-- FORM OVERRIDE: hide Expected Revenue / Probability (works on v18) -->
  <record id="view_crm_lead_form_hide_finance" model="ir.ui.view">
    <field name="name">crm.lead.form.hide.finance</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.crm_lead_view_form"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='expected_revenue']" position="attributes">
        <attribute name="modifiers">{'invisible': true}</attribute>
      </xpath>
      <xpath expr="//field[@name='probability']" position="attributes">
        <attribute name="modifiers">{'invisible': true}</attribute>
      </xpath>
      <!-- optional — only if these exist in your DB -->
      <xpath expr="//field[@name='recurring_revenue']" position="attributes">
        <attribute name="modifiers">{'invisible': true}</attribute>
      </xpath>
      <xpath expr="//field[@name='recurring_plan']" position="attributes">
        <attribute name="modifiers">{'invisible': true}</attribute>
      </xpath>
    </field>
  </record>

  <!-- ❌ REMOVE the list override for now (this is what caused the error) -->
  <!--
  <record id="view_crm_lead_list_hide_finance" model="ir.ui.view">
    <field name="name">crm.lead.list.hide.finance</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.crm_lead_view_list"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='expected_revenue']" position="replace"/>
      <xpath expr="//field[@name='probability']" position="replace"/>
      <xpath expr="//field[@name='recurring_revenue']" position="replace"/>
    </field>
  </record>
  -->
</odoo>
